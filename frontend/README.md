# ReadingInsights 前端

一个美观简约的KOReader阅读数据可视化前端界面，使用ECharts构建。

> 📖 **完整使用指南请查看根目录的 [用户指南.md](../用户指南.md)**

## 功能特性

### 📊 数据概览页面
- **统计卡片**：总阅读时长、书籍数量、页数、连续阅读天数
- **日历热力图**：全年阅读活跃度可视化
- **阅读趋势图**：最近30天的阅读时长和页数趋势
- **时段分布图**：24小时阅读时间分布
- **进度环形图**：书籍完成情况统计

### 💡 读书摘抄页面
- 预留摘抄功能位置
- 优雅的占位符设计
- 未来扩展准备

## 设计特点

### 🎨 视觉设计
- 现代简约的界面风格
- 柔和的配色方案
- 流畅的动画效果
- 响应式布局设计

### 🖥️ 用户体验
- 直观的标签页切换
- 实时图表交互
- 优雅的加载状态
- 友好的错误提示

## 技术栈

- **HTML5**: 语义化结构
- **CSS3**: 现代样式和动画
- **JavaScript ES6+**: 模块化开发
- **ECharts 5.x**: 专业图表库
- **Fetch API**: 数据请求
- **CSS Grid & Flexbox**: 响应式布局

## 文件结构

```
frontend/
├── index.html          # 主页面
├── styles/
│   └── main.css       # 主样式文件
├── js/
│   └── dashboard.js   # 主JavaScript文件
└── README.md          # 说明文档
```

## 使用方法

### 1. 开发环境
```bash
# 直接在浏览器中打开 index.html
open frontend/index.html

# 或使用本地服务器（推荐）
cd frontend
python -m http.server 8080
# 访问 http://localhost:8080
```

### 2. 生产环境
将整个 `frontend` 目录部署到Web服务器即可。

## 配置说明

### API连接
在 `js/dashboard.js` 中修改API基础URL：
```javascript
this.baseURL = 'http://localhost:8000/api/v1';
```

### 认证配置
如需要认证，设置 `authToken`：
```javascript
this.authToken = 'your-jwt-token';
```

## 图表说明

### 日历热力图
- 显示全年每日阅读时长
- 颜色深浅表示阅读活跃度
- 鼠标悬停显示具体数据

### 阅读趋势图
- 双轴图表：时长(分钟) + 页数
- 面积图显示阅读时长趋势
- 柱状图显示每日页数

### 时段分布图
- 24小时阅读时间分布
- 识别阅读高峰时段
- 柱状图展示

### 进度环形图
- 已完成vs进行中书籍比例
- 中央显示完成度统计
- 悬停显示详细信息

## 响应式支持

- **桌面端**: 1280px+ 完整体验
- **平板端**: 768-1024px 自适应布局
- **手机端**: <768px 移动优化

### 移动端优化
- 标签页文字自动隐藏
- 图表高度自适应
- 触摸友好的交互
- 单列卡片布局

## 浏览器支持

- Chrome 60+
- Firefox 55+
- Safari 12+
- Edge 79+

## 自定义主题

### 配色变量
在 `styles/main.css` 中修改CSS变量：
```css
:root {
    --primary-color: #3b82f6;    /* 主色调 */
    --secondary-color: #8b5cf6;  /* 辅助色 */
    --success-color: #10b981;    /* 成功色 */
    --warning-color: #f59e0b;    /* 警告色 */
}
```

### 深色模式
系统自动检测用户偏好，支持深色模式。

## 性能优化

- ECharts按需加载
- 图表实例重用
- 响应式图表自适应
- 内存泄漏预防

## 扩展开发

### 添加新图表
1. 在 `setupCharts()` 中添加初始化调用
2. 创建对应的设置方法
3. 在 `resizeCharts()` 中包含新图表

### 集成真实API
1. 修改 `loadData()` 方法
2. 替换模拟数据生成逻辑
3. 处理API错误和加载状态

## 数据格式

### 统计摘要
```javascript
{
    total_reading_time: 25680,    // 秒
    total_books: 12,              // 数量
    total_pages_read: 2847,       // 页数
    reading_streak: 15            // 天数
}
```

### 日历数据
```javascript
[
    ['2024-01-01', 3600],  // [日期, 秒数]
    ['2024-01-02', 7200],
    // ...
]
```

### 趋势数据
```javascript
[
    {
        date: '2024-01-01',
        readingTime: 3600,  // 秒
        pages: 60           // 页数
    },
    // ...
]
```

## 故障排除

### 图表不显示
1. 检查ECharts是否正确加载
2. 确认容器元素存在
3. 检查数据格式是否正确

### 样式异常
1. 确认CSS文件路径正确
2. 检查浏览器兼容性
3. 清除浏览器缓存

### API连接失败
1. 检查API地址配置
2. 确认后端服务运行
3. 查看浏览器控制台错误

## 贡献指南

1. Fork项目
2. 创建功能分支
3. 提交变更
4. 发起Pull Request

## 许可证

MIT License - 详见LICENSE文件

---

🎉 享受美观的阅读数据可视化体验！ 